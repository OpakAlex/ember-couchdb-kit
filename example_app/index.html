<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <title>Board</title>
    <link href="css/libs/bootstrap.css" rel="stylesheet" media="screen">

    <script src="js/libs/jquery.js"></script>
    <script src="js/libs/handlebars.js"></script>
    <script src="js/libs/ember.js"></script>
    <script src="js/libs/ember-data.js"></script>
    <script src="js/libs/ember-couchdb-kit.js"></script>
    <script src="js/libs/attachment-adapter.js"></script>
    <script src="js/libs/changes-feed.js"></script>
    <script src="js/libs/document-adapter.js"></script>
    <script src="js/libs/registry.js"></script>
    <script src="js/libs/revs-adapter.js"></script>
    <script src="js/app.js"></script>

</head>
<body>

<script type="text/x-handlebars" data-template-name="index">

    <div class="navbar alert alert-success">
        <div class="navbar alert alert-success">
            <h1>Issue boards</h1>
        </div>
    </div>

    <div>
        <ul class="inline">
            {{#each board in App.Boards}}
                {{#view App.BoardView class="navbar alert alert-success"}}
                    <h4>{{board}}</h4>
                    {{partial "issueList"}}
                    {{partial "createIssue"}}
                {{/view}}
            {{/each}}
        </ul>
    </div>
</script>

<script type="text/x-handlebars" data-template-name="_issueList">
    <div>
        <ul class="list-group">
            {{#each controller}}
                <li class="list-group-item">
                    <div class="navbar alert alert-success">
                        {{text}}
                    </div>      
                </li>
            {{/each}}
        </ul>
    </div>
</script>

<script type="text/x-handlebars" data-template-name="_createIssue">
    {{#view App.NewIssueView}}
        {{#if view.create}}
            {{#view Ember.TextArea viewName="TextArea" class="form-control"}}
            {{/view}}
            <p>
            <button type="submit" class="btn btn-warning"> Save </button>
            {{#view App.CancelView}}
                <button class="btn"> &times; </button>
            {{/view}}
            </p>
        {{else}}
            <button type="submit" class="btn btn-warning"> Add new issue </button>
        {{/if}}
    {{/view}} 
</script>

</body>
</html>
